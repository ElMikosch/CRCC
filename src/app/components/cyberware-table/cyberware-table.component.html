<mat-accordion>
  <mat-expansion-panel *ngFor="let cw of cyberware">
    <mat-expansion-panel-header>
      {{cw.Name}}
    </mat-expansion-panel-header>
    <table mat-table
           [dataSource]="cw.Cyberware"
           class="mat-elevation-z8">
      <ng-container matColumnDef="Name">
        <th mat-header-cell
            *matHeaderCellDef> Name </th>
        <td mat-cell
            *matCellDef="let element"> {{element.Name}} </td>
        <td mat-footer-cell
            *matFooterCellDef> Total </td>

      </ng-container>

      <ng-container matColumnDef="DescriptionAndData">
        <th mat-header-cell
            *matHeaderCellDef> DescriptionAndData </th>
        <td mat-cell
            *matCellDef="let element"> {{element.DescriptionAndData}} </td>
        <td mat-footer-cell
            *matFooterCellDef> </td>

      </ng-container>

      <ng-container matColumnDef="HL">
        <th mat-header-cell
            *matHeaderCellDef> HL </th>
        <td mat-cell
            *matCellDef="let element"> {{element.HL}} </td>
        <td mat-footer-cell
            *matFooterCellDef>{{getTotalHumantiyCost(cw.Name)}} HL </td>

      </ng-container>

      <ng-container matColumnDef="Install">
        <th mat-header-cell
            *matHeaderCellDef> Install </th>
        <td mat-cell
            *matCellDef="let element"> {{element.Install}} </td>
        <td mat-footer-cell
            *matFooterCellDef> </td>
      </ng-container>

      <ng-container matColumnDef="CostDescription">
        <th mat-header-cell
            *matHeaderCellDef> Cost </th>
        <td mat-cell
            *matCellDef="let element">
          {{element.CostDescription}}
        </td>
        <td mat-footer-cell
            *matFooterCellDef> {{getTotalCost(cw.Name)}}eb </td>

      </ng-container>

      <ng-container matColumnDef="buy">
        <th mat-header-cell
            *matHeaderCellDef> Buy </th>
        <td mat-cell
            *matCellDef="let element">
          <mat-select [(value)]="element.Amount"
                      style="margin: 10px;"
                      (selectionChange)="updatePlayerData()">
            <mat-option *ngFor="let item of [].constructor(6); let i = index"
                        [value]="i"
                        [disabled]="!canAfford(element,i)">{{i}}</mat-option>
          </mat-select>
        </td>
        <td mat-footer-cell
            *matFooterCellDef> </td>

      </ng-container>

      <tr mat-header-row
          *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row
          *matRowDef="let row; columns: displayedColumns;"></tr>
      <tr mat-footer-row
          *matFooterRowDef="displayedColumns; sticky: true"></tr>

    </table>
  </mat-expansion-panel>
</mat-accordion>
